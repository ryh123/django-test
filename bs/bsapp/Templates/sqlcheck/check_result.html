{% extends 'login/base.html' %}
{% load staticfiles %}
{% block title %}检测结果{% endblock %}
{% block css %}
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
{% endblock %}
{% block content %}


{% if user.is_authenticated %}
<html lang="zh-CN">

<head>
	<meta charset="utf-8">
	<title>NicePage demo</title>
	<meta name="renderer" content="webkit">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link href="{% static 'css/layui.css' %}" type="text/css"  rel="stylesheet">
</head>

<body>

	<center style="padding-top: 40px">
		<p class="text"></p>
		<h2 class="text-center">sql注入检测</h2>
		</br>
		<div style="width: 80%;padding-top: 20px">
			<blockquote class="layui-elem-quote"></blockquote>
			<!--以下为两个必须div元素-->
			<div id="table"></div>
			<div id="pageBar"></div>
			<a href="/delete/?del=save_sql_check" class="btn btn-primary pull-right">清除当前数据</a>
		</div>
		{%  if message %}
		<script type="text/javascript">
			alert({{ message }});
		</script>
		{% endif %}

	</center>

<! - -基本使用说明
			//标准json格式 目前只支持[{a:b,c:d},{a:b,c:d}]

			var json=[{"id":"1","name":"Tom","age":"12"},{"id":"2","name":"Joy","age":"13"}]

			//nameList与widthList的数组长度要一致
			nameList//数组为表格列名,如['序号','姓名','年龄']
			widthList//数组为列名的宽度,如['100','200','100']
			
			/**
			 * 初始化设置nicepage组件
			 *------------------------------------------------------------
			 * 进行数据组装,与layui交互进行元素渲染
			 *-------------------------------------------------------------
			 * @param    {string}  table     table的div id
			 * @param    {string}  bar     底部分页的div id
			 * @param    {int}  limit     每页默认行数
			 * @param    {string}  color     底部分页的颜色
			 * @param    {array}  layout     底部分页的布局,具体可参考layui api
			 *
			 * @date     2018-10-19
			 * @author   Thomas.dz hzdz163@163.com
<! - -			 **/
			//初始化
			$(function () {
				nicePage.setCfg({
					table: 'table',
					bar: 'pageBar',
					limit: 20,
					color: '#1E9FFF',
					layout: ['count', 'prev', 'page', 'next', 'limit', 'skip']
				});
			});
			//初始化完成

</body>
<script  src="{% static 'js/jquery.min.js' %}"></script>
<script  src="{% static 'js/layui.js' %}"></script>
<script  src="{% static  'js/nicePage.js' %}"></script>
<script type="text/javascript">

    var json = {{ json|safe  }};
    //标准json格式 目前只支持[{a:b,c:d},{a:b,c:d}]此种格式
	//nameList与widthList的数组长度要一致
	var nameList = ['url', 'msg1', 'msg2']  //table的列名
	var widthList = [250, 200, 200]  //table每列的宽度

	/**
	 * 初始化设置nicepage组件    v1.0
	 *-------------------------------------------------------------
	 * 进行数据组装,与layui交互进行元素渲染
	 *-------------------------------------------------------------
	 * @param    {string}  table     table的div id
	 * @param    {string}  bar     底部分页的div id
	 * @param    {int}  limit     每页默认行数
	 * @param    {string}  color     底部分页的颜色
	 * @param    {array}  layout     底部分页的布局,具体可参考layui api
	 *
	 * @date     2018-10-19
	 * @author   Thomas.dz <hzdz163@163.com>
	 */
	$(function () {
		nicePage.setCfg({
			table: 'table',
			bar: 'pageBar',
			limit: 20,
			color: '#1E9FFF',
			layout: ['count', 'prev', 'page', 'next', 'limit', 'skip']
		});
	});//初始化完成
</script>

</html>
{% endif %}
{% endblock %}